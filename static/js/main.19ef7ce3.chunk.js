(this["webpackJsonpweather-widget"]=this["webpackJsonpweather-widget"]||[]).push([[0],{10:function(e,t,n){e.exports={setting:"Setting_setting__ZM3lR",settingOpen:"Setting_settingOpen__2eAL8",city:"Setting_city__3C65X",block:"Setting_block__1I0Ga",burger:"Setting_burger__2ieGC",close:"Setting_close__1ItEe",deleteCity:"Setting_deleteCity__1off4"}},11:function(e,t,n){e.exports={weatherBlock:"WeatherBlock_weatherBlock__3Aq7O",title:"WeatherBlock_title__2dnSw",weather:"WeatherBlock_weather__sRnfZ",block:"WeatherBlock_block__31mBh",wind:"WeatherBlock_wind__1mZBG"}},38:function(e,t,n){},39:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(14),s=n.n(a),r=(n(38),n(5)),o=(n(39),n(19)),l=n.n(o),j=function(e,t){var n=function(){return 17.27*e/(237.7+e)+Math.log(t/100)};return Math.round(237.7*n()/(17.27-n()))},u=function(e){return Math.round(e-273)},d=function(e){var t=11.25;return e>348.75&&e<=t?"N":e>t&&e<=33.75?"NNE":e>33.75&&e<=56.25?"NE":e>56.25&&e<=78.75?"ENE":e>78.75&&e<=101.25?"E":e>101.25&&e<=123.75?"ESE":e>123.75&&e<=146.25?"SE":e>146.25&&e<=168.75?"SSE":e>168.75&&e<=191.25?"S":e>191.25&&e<=213.75?"SSW":e>213.75&&e<=236.25?"SW":e>236.25&&e<=258.75?"WSW":e>258.75&&e<=281.25?"W":e>281.25&&e<=303.75?"WNW":e>303.75&&e<=326.25?"NW":e>326.25&&e<=348.75?"NNW":void 0},b=n(11),h=n.n(b),O=n(2),f=function(e){var t=e.city,n=function(e){var t=Object(c.useState)(),n=Object(r.a)(t,2),i=n[0],a=n[1];return Object(c.useEffect)((function(){l.a.get("http://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=51727deeeb8f27eb66b078e557351768")).then((function(e){var t=e.data;a(t)}))}),[e]),[i]}(void 0===t?null:t),i=Object(r.a)(n,1)[0];if(!i)return Object(O.jsx)(O.Fragment,{});var a=u(i.main.temp),s=u(i.main.feels_like);return Object(O.jsxs)("div",{className:h.a.weatherBlock,children:[Object(O.jsxs)("h2",{className:h.a.title,children:[i.name,", ",i.sys.country]}),Object(O.jsxs)("div",{className:h.a.weather,children:[Object(O.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(i.weather[0].icon,"@2x.png"),alt:""}),a,"\xb0C"]}),Object(O.jsxs)("p",{className:h.a.block,children:["Feels likes ",s,"\xb0C, ",i.weather[0].description]}),Object(O.jsxs)("div",{className:h.a.wind,children:[Object(O.jsxs)("div",{className:h.a.speed,children:[i.wind.speed," m/s ",d(i.wind.deg)]}),Object(O.jsxs)("div",{className:h.a.pressure,children:[i.main.pressure,"hPA"]}),Object(O.jsxs)("div",{children:["Humidity: ",i.main.humidity,"%"]}),Object(O.jsxs)("div",{children:["Dew point: ",j(a,i.main.humidity),"\xb0C"]}),Object(O.jsxs)("div",{children:["Visibility: ",i.visibility/1e3,"km"]})]})]})},g=n(20),x=n(17),m=n(10),p=n.n(m),v=n(16),_=Object(x.d)((function(){return Object(O.jsx)("span",{className:p.a.burger})})),w=Object(x.c)((function(e){var t=e.value,n=e.deleteCity;return Object(O.jsxs)("li",{className:p.a.city,children:[Object(O.jsxs)("div",{className:p.a.block,children:[Object(O.jsx)(_,{}),t]}),Object(O.jsx)("button",{className:p.a.deleteCity,onClick:function(){n(t)},children:"X"})]})})),N=Object(x.b)((function(e){var t=e.children;return Object(O.jsx)("ul",{children:t})})),S=function(e){var t=e.cities,n=e.setCities,i=Object(c.useState)(""),a=Object(r.a)(i,2),s=a[0],o=a[1],l=function(e){n(t.filter((function(t){return t!==e})))};return Object(O.jsxs)("div",{className:p.a.setting,children:[Object(O.jsx)("h2",{className:p.a.title,children:"Settings"}),Object(O.jsx)(v.b,{to:"/",className:p.a.close,children:"X"}),Object(O.jsx)(N,{onSortEnd:function(e){var c=e.oldIndex,i=e.newIndex;n(Object(x.a)(t,c,i))},useDragHandle:!0,children:t.map((function(e,t){return Object(O.jsx)(w,{index:t,value:e,deleteCity:l},"item-".concat(e))}))}),Object(O.jsx)("p",{className:p.a.text,children:"Add location:"}),Object(O.jsx)("input",{type:"text",value:s,onChange:function(e){o(e.currentTarget.value)}}),Object(O.jsx)("button",{onClick:function(){n([].concat(Object(g.a)(t),[s])),o("")},children:"A"})]})},k=n(4);var y=function(){var e=Object(c.useState)(["Moscow"]),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(!0),s=Object(r.a)(a,2),o=s[0],j=s[1],u=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=t[0],i=t[1],a=function(e){var t=e.coords,n=t.latitude,c=t.longitude;l.a.get("http://api.openweathermap.org/data/2.5/weather?lat=".concat(n,"&lon=").concat(c,"&appid=51727deeeb8f27eb66b078e557351768")).then((function(e){var t=e.data;i(t.name)}))},s=function(e){console.log("error")};return Object(c.useEffect)((function(){var e=navigator.geolocation;if(e){var t=e.watchPosition(a,s);return function(){return e.clearWatch(t)}}}),[n]),[n]}(),d=Object(r.a)(u,1)[0],b=Object(c.useRef)(null);return console.log(d),Object(O.jsx)(v.a,{children:Object(O.jsx)("div",{className:"App",children:o?Object(O.jsxs)("div",{className:"weather-container",ref:b,children:[Object(O.jsxs)(k.a,{exact:!0,path:"/",children:[Object(O.jsx)(v.b,{to:"setting",className:"setting",children:"Setting"}),n.map((function(e){return Object(O.jsx)(f,{city:e},e)})),Object(O.jsx)(f,{},"123")]}),Object(O.jsx)(k.a,{path:"/setting",children:Object(O.jsx)(S,{cities:n,setCities:i})})]}):Object(O.jsx)("button",{onClick:function(){j(!0)},children:"Open"})})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),a(e),s(e)}))};s.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(y,{})}),document.getElementById("root")),C()}},[[67,1,2]]]);
//# sourceMappingURL=main.19ef7ce3.chunk.js.map